<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="UTF-8">
  <title>Rock Paper Scissors Part 2
  </title>
</head>

<body>
 <div class="container">
  <div class="row">
    <div class="col-md-offset-2 col-md-8">
      <div class="jumbotron">
        <h1>The Psychic Game</h1>
        <p>Guess what letter I'm thinking of</p>
        <p>wins: <span id="wins-text">0</span></p>
        <p>losses: <span id="losses-text">0</span></p>
        <p>Guesses Left: <span id="guesses-text">9</span></p>
        <p>Your Guesses so far: <span id="user-text"></span></p>
        <p>dont look! lol computer chose: <span id="computer-text"><strong>nothing</strong></span></p>
      </div>
    </div>
  </div>
</div>
<div id="game">

</div>

<script type="text/javascript">

    // Creates an array that lists out all of the options (Rock, Paper, or Scissors).
    var computerChoices = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']
    var userChoices = [];
    var wins = 0;
    var lost = 0;
    var tie = 0;
    var numberOfGuesses = 9;

    //set stuff for displaying document
    var userText = document.getElementById("user-text");
    var computerText = document.getElementById("computer-text");
    var winsText = document.getElementById("wins-text");
    var lossesText = document.getElementById("losses-text");
    var guessesText = document.getElementById("guesses-text");



//FUNCTIONS==========================================
    //Test each input exist in the array
    function checkValidInput (someArray,value) {
      return someArray.includes(value);
    }
    //randomize input selection
    function randomizeSelection(someArray) {
      return someArray[Math.floor(Math.random() * someArray.length)];
    }
    //get random computer guess
    var computerGuess = randomizeSelection(computerChoices);

    // This function is run whenever the user presses a key.
    document.onkeyup = function(event) {

      // Determines which key was pressed.
      var userGuess = event.key;

      if (checkValidInput(computerChoices,userGuess)) {
        userChoices.push(userGuess);
        //decrease number of user guesses by 1
        numberOfGuesses= numberOfGuesses-1;
        // Alerts the key the user pressed (userGuess).
        console.log("User guess: " + userGuess);

        // Alerts the Computer's guess.
        console.log("Computer guess: " + computerGuess);

        // user guesses right
          // increase win score by 1
          // reset number of guesses to max
          // select new computer guess
          if(userGuess == computerGuess) {
            console.log("user wins!");
            wins = wins + 1;
            numberOfGuesses = 9;
            computerGuess = randomizeSelection(computerChoices);
            userChoices = [];//clear array of userChoices
          }
          else {
          }
        // user runs out of guesses
          // increase lose score by 1
          // reset number of guesses to max
          // select new computer guess
          if(numberOfGuesses==0) {
            lost = lost + 1;
            numberOfGuesses = 9;
            computerGuess = randomizeSelection(computerChoices);
            console.log(numberOfGuesses)
            userChoices = [];//clear array of userChoices
          }

          else{
            
          }
          
        // update stuff on screen
        winsText.textContent=wins;
        lossesText.textContent=lost;

        computerText.textContent=computerGuess;
        userText.textContent=userChoices;

        guessesText.textContent=numberOfGuesses;

      }
    };

  </script>

</body>

</html>
